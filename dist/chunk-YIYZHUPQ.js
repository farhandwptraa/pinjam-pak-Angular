import{Be as u,qb as P,r as D}from"./chunk-6EYGSNKD.js";import"./chunk-3UXZUV3X.js";import{d as N,g as m}from"./chunk-RGZT2HLU.js";import"./chunk-ZRO2VLPL.js";import{d as k,f as c,g as E,h as _,k as C,o as I,p as j,x as F,z as M}from"./chunk-NGO3WZC3.js";import"./chunk-QEAK2XWR.js";import{Eb as i,Fb as r,Gb as a,Lb as v,Yb as l,da as b,dc as S,eb as d,fb as p,hd as y,jd as w,na as h,oa as x,vb as g}from"./chunk-PYOKKVX2.js";import"./chunk-GAL4ENT6.js";var f=(()=>{let t=class t{constructor(n,e,s){this.fb=n,this.http=e,this.router=s,this.loginForm=this.fb.group({usernameOrEmail:["",c.required],password:["",c.required]})}login(){if(this.loginForm.invalid)return;let n=this.loginForm.value;this.http.post("http://34.148.109.190/be/api/auth/login",n).subscribe({next:e=>{if(e.role_id==="a5776c6b-74ef-40c7-90bf-628aed81ae92"){alert("Akses ditolak. Hanya role tertentu yang bisa login ke dashboard.");return}localStorage.setItem("token",e.token),localStorage.setItem("role_id",e.role_id),localStorage.setItem("username",e.username),localStorage.setItem("role",e.role),localStorage.setItem("employeeId",e.employeeId),this.router.navigate(["/dashboard/main"])},error:e=>{alert("Login gagal: "+(e.error?.message||"Periksa kembali data login"))}})}};t.\u0275fac=function(e){return new(e||t)(p(F),p(y),p(N))},t.\u0275cmp=h({type:t,selectors:[["app-login"]],standalone:!0,features:[S],decls:33,vars:3,consts:[[1,"absolute","inset-0"],["src","/assets/images/auth/bg-gradient.png","alt","image",1,"h-full","w-full","object-cover"],[1,"relative","flex","min-h-screen","items-center","justify-center","bg-[url(/assets/images/auth/map.png)]","bg-cover","bg-center","bg-no-repeat","px-6","py-10","dark:bg-[#060818]","sm:px-16"],["src","/assets/images/auth/coming-soon-object1.png","alt","image",1,"absolute","left-0","top-1/2","h-full","max-h-[893px]","-translate-y-1/2"],["src","/assets/images/auth/coming-soon-object2.png","alt","image",1,"absolute","left-24","top-0","h-40","md:left-[30%]"],["src","/assets/images/auth/coming-soon-object3.png","alt","image",1,"absolute","right-0","top-0","h-[300px]"],["src","/assets/images/auth/polygon-object.svg","alt","image",1,"absolute","bottom-0","end-[28%]"],[1,"relative","w-full","max-w-[870px]","rounded-md","bg-[linear-gradient(45deg,#fff9f9_0%,rgba(255,255,255,0)_25%,rgba(255,255,255,0)_75%,_#fff9f9_100%)]","p-2","dark:bg-[linear-gradient(52.22deg,#0E1726_0%,rgba(14,23,38,0)_18.66%,rgba(14,23,38,0)_51.04%,rgba(14,23,38,0)_80.07%,#0E1726_100%)]"],[1,"relative","flex","flex-col","justify-center","rounded-md","bg-white/60","px-6","py-20","backdrop-blur-lg","dark:bg-black/50","lg:min-h-[500px]"],[1,"mx-auto","w-full","max-w-[440px]"],[1,"mb-10"],[1,"text-3xl","font-extrabold","uppercase","!leading-snug","text-primary","md:text-4xl"],[1,"text-base","font-bold","leading-normal","text-white-dark"],[1,"space-y-5","dark:text-white",3,"ngSubmit","formGroup"],["for","usernameOrEmail"],[1,"relative","text-white-dark"],["id","usernameOrEmail","type","text","formControlName","usernameOrEmail","placeholder","Enter Email or Username",1,"form-input","ps-10","placeholder:text-white-dark"],[1,"absolute","start-4","top-1/2","-translate-y-1/2"],[3,"fill"],["for","Password"],["id","Password","type","password","formControlName","password","placeholder","Enter Password",1,"form-input","ps-10","placeholder:text-white-dark"],["type","submit",1,"btn","btn-gradient","!mt-6","w-full","border-0","uppercase","shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)]"]],template:function(e,s){e&1&&(i(0,"div")(1,"div",0),a(2,"img",1),r(),i(3,"div",2),a(4,"img",3)(5,"img",4)(6,"img",5)(7,"img",6),i(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h1",11),l(13,"Sign in"),r(),i(14,"p",12),l(15,"Enter your email and password to login"),r()(),i(16,"form",13),v("ngSubmit",function(){return s.login()}),i(17,"div")(18,"label",14),l(19,"Email / Username"),r(),i(20,"div",15),a(21,"input",16),i(22,"span",17),a(23,"icon-mail",18),r()()(),i(24,"div")(25,"label",19),l(26,"Password"),r(),i(27,"div",15),a(28,"input",20),i(29,"span",17),a(30,"icon-lock-dots",18),r()()(),i(31,"button",21),l(32," Sign in "),r()()()()()()()),e&2&&(d(16),g("formGroup",s.loginForm),d(7),g("fill",!0),d(7),g("fill",!0))},dependencies:[M,C,k,E,_,I,j,w,m,u,P,D]});let o=t;return o})();var L=[{path:"login",component:f}],X=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=x({type:t}),t.\u0275inj=b({imports:[m.forChild(L),f,u,m]});let o=t;return o})();export{X as AuthRoutingModule};
